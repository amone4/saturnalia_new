jQuery(document).ready(function(e){function a(a,l){"desktop"==a&&l?("on"==y?(c(),e(window).on("DOMMouseScroll mousewheel",s)):(t(),e(window).on("scroll",t)),Y.on("click",i),U.on("click",n),e(document).on("keydown",function(a){"40"!=a.which||U.hasClass("inactive")?"38"==a.which&&(!Y.hasClass("inactive")||Y.hasClass("inactive")&&e(window).scrollTop()!=g.eq(0).offset().top)&&(a.preventDefault(),i()):(a.preventDefault(),n())}),d()):"mobile"==a&&(u(),e(window).off("DOMMouseScroll mousewheel",s),e(window).off("scroll",t),Y.off("click",i),U.off("click",n),e(document).off("keydown"))}function t(){window.requestAnimationFrame?window.requestAnimationFrame(l):l()}function l(){var a=e(window).scrollTop(),t=e(window).height();e(window).width();g.each(function(){var l=e(this),c=a-l.offset().top,s=p(c,t,b);o(l.children("div"),s[0],s[1],s[2],s[3],s[4]),c>=0&&c<t?l.addClass("visible"):l.removeClass("visible")}),d()}function o(e,a,t,l,o,c){e.velocity({translateY:a+"vh",scale:t,rotateX:l,opacity:o,boxShadowBlur:c+"px",translateZ:0},0)}function c(){var e=g.filter(".visible"),a=e.prevAll(".cd-section"),t=e.nextAll(".cd-section"),l=v(b,!1),o=l[0],c=l[1],s=l[2];e.children("div").velocity(o,1,function(){e.css("opacity",1),a.css("opacity",1),t.css("opacity",1)}),a.children("div").velocity(c,0),t.children("div").velocity(s,0)}function s(e){return e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?(h--,Math.abs(h)>=D&&i()):++h>=D&&n(),!1}function i(a){void 0!==a&&a.preventDefault();var l=g.filter(".visible"),o="off"==y&&e(window).scrollTop()!=l.offset().top;l=o?l.next(".cd-section"):l;var c=v(b,o,"prev");r(l.prev(".cd-section"),c[3]),m||l.is(":first-child")||(m=!0,l.removeClass("visible").children("div").velocity(c[2],c[3],c[4]).end().prev(".cd-section").addClass("visible").children("div").velocity(c[0],c[3],c[4],function(){m=!1,"off"==y&&e(window).on("scroll",t)}),x-=1),f()}function n(a){void 0!==a&&a.preventDefault();var l=g.filter(".visible"),o="off"==y&&e(window).scrollTop()!=l.offset().top,c=v(b,o,"next");r(l.next(".cd-section"),c[3]),m||l.is(":last-of-type")||(m=!0,l.removeClass("visible").children("div").velocity(c[1],c[3],c[4]).end().next(".cd-section").addClass("visible").children("div").velocity(c[0],c[3],c[4],function(){m=!1,"off"==y&&e(window).on("scroll",t)}),x+=1),f()}function r(a,l){"off"==y&&(e(window).off("scroll",t),"catch"==b?e("body, html").scrollTop(a.offset().top):a.velocity("scroll",{duration:l}))}function f(){h=0,d()}function d(){g.filter(".visible").is(":first-of-type")?Y.addClass("inactive"):Y.removeClass("inactive"),g.filter(".visible").is(":last-of-type")?U.addClass("inactive"):U.removeClass("inactive")}function u(){g.children("div").each(function(){e(this).attr("style","")})}function w(){return window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}function v(e,a,t){var l="translateNone",o="translateUp",c="translateDown",s="ease",i=800;switch(e){case"scaleDown":o="scaleDown",s="easeInCubic";break;case"rotate":"off"==y?(o="rotation.scroll",c="translateNone"):(o="rotation",s="easeInCubic");break;case"gallery":i=1500,a?(o="scaleDown.moveUp.scroll",l="scaleUp.moveUp.scroll",c="scaleDown.moveDown.scroll"):(l="next"==t?"scaleUp.moveUp":"scaleUp.moveDown",o="scaleDown.moveUp",c="scaleDown.moveDown");break;case"catch":l="translateUp.delay";break;case"opacity":i=700,o="hide.scaleUp",c="hide.scaleDown";break;case"fixed":o="translateNone",s="easeInCubic";break;case"parallax":o="translateUp.half",s="easeInCubic"}return[l,o,c,i,s]}function p(e,a,t){var l=1,o=100,c="0deg",s=1,i=0;if(e>=-a&&e<=0)switch(o=100*-e/a,t){case"scaleDown":l=1,s=1;break;case"rotate":o=0;break;case"gallery":e>=-a&&e<-.9*a?(l=-e/a,o=100*-e/a,i=400*(1+e/a)):e>=-.9*a&&e<-.1*a?(l=.9,o=-9/8*(e+.1*a)*100/a,i=40):(l=1+e/a,o=0,i=-400*e/a);break;case"catch":e>=-a&&e<-.75*a?(o=100,i=160*(1+e/a)):(o=-10/7.5*e*100/a,i=-160*e/(3*a));break;case"opacity":o=0,l=.2*(e+5*a)/a,s=(e+a)/a}else if(e>0&&e<=a)switch(o=100*-e/a,t){case"scaleDown":l=(1-.3*e/a).toFixed(5),s=(1-e/a).toFixed(5),o=0,i=e/a*40;break;case"rotate":s=(1-e/a).toFixed(5),c=90*e/a+"deg",o=0;break;case"gallery":e>=0&&e<.1*a?(l=(a-e)/a,o=-e/a*100,i=400*e/a):e>=.1*a&&e<.9*a?(l=.9,o=-9/8*(e-.1*a/9)*100/a,i=40):(l=e/a,o=-100,i=400*(1-e/a));break;case"catch":i=e>=0&&e<a/2?80*e/a:80*(1-e/a);break;case"opacity":o=0,l=.2*(e+5*a)/a,s=(a-e)/a;break;case"fixed":o=0;break;case"parallax":o=50*-e/a}else if(e<-a)switch(o=100,t){case"scaleDown":l=1,s=1;break;case"gallery":l=1;break;case"opacity":o=0,l=.8,s=0}else switch(o=-100,t){case"scaleDown":l=0,s=.7,o=0;break;case"rotate":o=0,c="90deg";break;case"gallery":l=1;break;case"opacity":o=0,l=1.2,s=0;break;case"fixed":o=0;break;case"parallax":o=-50}return[o,l,c,s,i]}var y=e("body").data("hijacking"),b=e("body").data("animation"),h=0,D=5,x=1,m=!1,g=e(".cd-section"),k=e(".cd-vertical-nav"),Y=k.find("a.cd-prev"),U=k.find("a.cd-next"),S=w(),E=!1;a(S,!0),e(window).on("resize",function(){a(S=w(),E),"mobile"==S&&(E=!0),"desktop"==S&&(E=!1)})}),$.Velocity.RegisterEffect("translateUp",{defaultDuration:1,calls:[[{translateY:"-100%"},1]]}),$.Velocity.RegisterEffect("translateDown",{defaultDuration:1,calls:[[{translateY:"100%"},1]]}),$.Velocity.RegisterEffect("translateNone",{defaultDuration:1,calls:[[{translateY:"0",opacity:"1",scale:"1",rotateX:"0",boxShadowBlur:"0"},1]]}),$.Velocity.RegisterEffect("scaleDown",{defaultDuration:1,calls:[[{opacity:"0",scale:"0.7",boxShadowBlur:"40px"},1]]}),$.Velocity.RegisterEffect("rotation",{defaultDuration:1,calls:[[{opacity:"0",rotateX:"90",translateY:"-100%"},1]]}),$.Velocity.RegisterEffect("rotation.scroll",{defaultDuration:1,calls:[[{opacity:"0",rotateX:"90",translateY:"0"},1]]}),$.Velocity.RegisterEffect("scaleDown.moveUp",{defaultDuration:1,calls:[[{translateY:"-10%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"-100%"},.6],[{translateY:"-100%",scale:"1",boxShadowBlur:"0"},.2]]}),$.Velocity.RegisterEffect("scaleDown.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"-100%",scale:"0.9",boxShadowBlur:"40px"},.6],[{translateY:"-100%",scale:"1",boxShadowBlur:"0"},.4]]}),$.Velocity.RegisterEffect("scaleUp.moveUp",{defaultDuration:1,calls:[[{translateY:"90%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1",boxShadowBlur:"0"},.2]]}),$.Velocity.RegisterEffect("scaleUp.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"0%",scale:"0.9",boxShadowBlur:"40px"},.6],[{translateY:"0%",scale:"1",boxShadowBlur:"0"},.4]]}),$.Velocity.RegisterEffect("scaleDown.moveDown",{defaultDuration:1,calls:[[{translateY:"10%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"100%"},.6],[{translateY:"100%",scale:"1",boxShadowBlur:"0"},.2]]}),$.Velocity.RegisterEffect("scaleDown.moveDown.scroll",{defaultDuration:1,calls:[[{translateY:"100%",scale:"0.9",boxShadowBlur:"40px"},.6],[{translateY:"100%",scale:"1",boxShadowBlur:"0"},.4]]}),$.Velocity.RegisterEffect("scaleUp.moveDown",{defaultDuration:1,calls:[[{translateY:"-90%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1",boxShadowBlur:"0"},.2]]}),$.Velocity.RegisterEffect("translateUp.delay",{defaultDuration:1,calls:[[{translateY:"0%"},.8,{delay:100}]]}),$.Velocity.RegisterEffect("hide.scaleUp",{defaultDuration:1,calls:[[{opacity:"0",scale:"1.2"},1]]}),$.Velocity.RegisterEffect("hide.scaleDown",{defaultDuration:1,calls:[[{opacity:"0",scale:"0.8"},1]]}),$.Velocity.RegisterEffect("translateUp.half",{defaultDuration:1,calls:[[{translateY:"-50%"},1]]});